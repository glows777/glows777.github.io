# http的各个版本区别

## 发展历史

### HTTP0.9

- 纯文本，只能用get请求，响应请求后就会关闭连接

### HTTP1.0

- 增加了HEAD，POST等方法，以及响应状态码，用于标记错位的原因
- 加入协议版本号，`http header`头部的概念
- 传输的数据不在只有文本

### HTTP1.1

- 增加了 PUT、DELETE 等新的方法，以及缓存管理和控制，允许持久连接
- 允许数据分块，有利于大文件传输
- 强制要求 Host 头，让互联网主机托管成为可能

### HTTP2

- 规定以后HTTP的版本只有大版本，不再有`x.x`的版本号
- 采用二进制协议，不再是纯文本
- 可发起多个请求，废弃http1.1中的管道，引入流和帧的概念
- 采用专用的头部压缩算法，减小数据传输量
- 允许服务器主动向客户端推送数据，同时，要求加密通信（https）

## 按下网址之后，发生了什么

- 首先是DNS解析（域名 -> ip地址）
- 随后是TCP三次握手，建立连接
- 发送HTTP请求
- 在这个过程中，为减少响应时间，会在整个过程的多个环节设置缓存
  - 在DNS解析过程中，DNS 解析可能会给出 CDN 服务器的 IP 地址，这样HTTP请求就不需要发送到服务器，CDN就可以直接响应请求
  - 在响应请求的过程中，负载均衡设备会先访问系统里的缓存服务器，通常有 memory 级缓存 Redis 和 disk 级缓存 Varnish，它们的作用与 CDN 类似，不过是工作在内部网络里，把最频繁访问的数据缓存几秒钟或几分钟，减轻后端应用服务器的压力

## 请求方法

- GET：获取资源，可以理解为读取或者下载数据
- HEAD：获取资源的元信息,与GET类似，服务器处理机制也是一样，但服务器不会返回请求的实体数据，只会传回响应
  - 一般用于： 想要检查一个文件是否存在，只要发个 HEAD 请求就可以了，没有必要用 GET 把整个文件都取下来
  - 或者要检查文件是否有最新版本，同样也应该用 HEAD，服务器会在响应头里把文件的修改时间传回来等
- POST：向资源提交数据，相当于写入或上传数据
  - POST 表示的是**新建**的含义
- PUT：类似 POST
  - PUT是**修改**的含义，一般都用统一使用POST了
- DELETE：删除资源，因为这个动作危险性太大，所以通常服务器不会执行真正的删除操作，而是对资源做一个删除标记，甚至是不处理这个请求
- CONNECT：建立特殊的连接隧道
- OPTIONS：列出可对资源实行的方法
- TRACE：追踪请求 - 响应的传输路径
- 与此同时，我们可以自定义一些请求方法，只要请求方和响应方都能理解就好
- GET 和 HEAD 既是安全的也是幂等







































































